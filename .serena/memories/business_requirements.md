# 비즈니스 요구사항

## 핵심 설계 원칙

### 1. 데이터 불변성 (Snapshot) - 최우선 원칙 ★★★★★
- 과거 견적 데이터는 절대 변경되지 않음
- 마스터 데이터 변경 시에도 기존 견적에는 영향 없음
- 견적 생성 시점의 데이터를 스냅샷으로 저장

### 2. 복잡한 견적 구조
**3단계 계층 구조:**
- **그룹 (Group)**: 행사 진행, 영상 제작 등 대분류
- **항목 (Item)**: 기획, 촬영, 편집 등 중분류  
- **세부내용 (Detail)**: 구체적인 작업 내용 및 수량

### 3. 정확한 수익률 관리
- **예상 원가 입력**: 견적 단계에서부터 원가 정보 관리
- **실시간 수익률 계산**: (판매가 - 원가) / 판매가 × 100
- **항목별 수수료 제외**: 특정 항목은 대행 수수료 적용 제외 가능
- **시각적 수익률 표시**: 색상 코딩으로 수익성 한눈에 파악

### 4. 유연한 비즈니스 로직
- **부가세 처리**: 별도/포함 선택 가능
- **할인 적용**: 총액에서 할인 금액 차감
- **대행 수수료**: 기본 15%, 항목별 제외 가능
- **다양한 단위**: 개, 시간, 일, 식 등 다양한 단위 지원

## 주요 기능

### 견적서 관리
- 복잡한 3단계 견적 구조 지원
- 실시간 금액 계산 및 수익률 표시
- 견적서 PDF 출력
- 견적서 버전 관리

### 고객/공급업체 관리
- 고객 정보 및 연락처 관리
- 공급업체 정보 및 원가 관리
- 거래 이력 추적

### 품목 마스터 관리
- 표준 품목 등록 및 관리
- 기본 단가 및 단위 설정
- 카테고리별 분류

### 권한 관리
- 사용자별 접근 권한 제어
- 견적서 승인 워크플로우
- 데이터 보안 (RLS 정책)

## 특수 요구사항

### MotionSense 맞춤 기능
- 행사 대행업 특화 견적 구조
- 영상 제작업 특화 원가 관리
- 복합 프로젝트 지원 (행사 + 영상)

### 데이터 안전성
- 자동 저장 기능
- 이탈 방지 경고
- 데이터 백업 및 복구